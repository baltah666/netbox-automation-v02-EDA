plugin: netbox.netbox.nb_inventory

vars:
  netbox_url: "{{ lookup('env', 'NETBOX_API') }}"
  netbox_token: "{{ lookup('env', 'NETBOX_TOKEN') }}"

validate_certs: False

group_by:
  - device_roles
  - sites

compose:
  ansible_network_os: '"cisco.ios.ios"'
  ansible_connection: '"network_cli"'
  ansible_user: '"admin"'
  ansible_password: '"cisco"'
  ansible_become: '"yes"'
  ansible_become_method: '"enable"'
  ansible_become_password: '"cisco"'
  ansible_ssh_common_args: '"-oKexAlgorithms=+diffie-hellman-group14-sha1 -oHostKeyAlgorithms=+ssh-rsa -oStrictHostKeyChecking=no"'
